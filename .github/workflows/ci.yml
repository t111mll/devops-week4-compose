name: CI

on:
 push:
  branches: [ "main" ]
 pull_request:

jobs:
 validate:
  runs-on: ubuntu-latest
  steps:
   - name: Checkout repository
     uses: actions/checkout@v4
   - name: Validate Docker Compose file
     run: docker compose config

 build:
  runs-on: ubuntu-latest
  needs: validate

  steps:
   - name: Checkout repository
     uses: actions/checkout@v4
   - name: Build Docker image
     run: docker build -t devops-week4-app .
